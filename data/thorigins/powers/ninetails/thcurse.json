{
	"type": "origins:multiple",
	"hidden": true,

	"ticks_20": {
		"type": "origins:action_over_time",
		"interval": 20,
		"entity_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:change_resource",
					"resource": "*:*_timer",
					"change": -20
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:resource",
						"resource": "*:*_timer",
						"compare_to": 0,
						"comparison": "=="
					},
					"if_action": {
						"type": "origins:revoke_power",
						"power": "*:ninetails/thcurse",
						"source": "thorigins:temp"
					}
				}
			]
		}
	},

	"_init_": {
		"type": "origins:action_on_callback",
		"entity_action_gained": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:apply_effect",
					"effects": [
						{
							"id": "minecraft:unluck",
							"duration": 200,
							"amplifier": 2,
							"is_ambient": true,
							"show_icon": true,
							"show_particles": false
						},
						{
							"id": "minecraft:wither",
							"duration": 200,
							"amplifier": 0,
							"show_icon": true,
							"show_particles": false,
							"is_ambient": true
						},
						{
							"id": "minecraft:nausea",
							"duration": 200,
							"amplifier": 0,
							"show_icon": true,
							"show_particles": false,
							"is_ambient": true
						}
					]
				},
				{
					"type": "origins:execute_command",
					"command": "/title @s actionbar {\"translate\":\"thcurse.added\"}"
				},
				{
					"type": "origins:change_resource",
					"resource": "*:*_timer",
					"change": 200
				}
			]
		},
		"entity_action_lost": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:spawn_particles",
					"particle": "minecraft:soul_fire_flame",
					"count": 5,
					"speed": 1
				},
				{
					"type": "origins:execute_command",
					"command": "/title @s actionbar {\"translate\":\"thcurse.removed\"}"
				}
			]
		}
	},

	"timer": {
		"type": "origins:resource",
		"min": 0,
		"max": 200,
		"start_value": 200,
		"hud_render": {
			"should_render": true,
			"sprite_location": "origins:textures/gui/community/huang/resource_bar_02.png",
			"bar_index": 14
		},
		"max_action": {
			"type": "origins:delay",
			"ticks": 1,
			"action": {
				"type": "origins:apply_effect",
				"effects": [
					{
						"id": "minecraft:unluck",
						"duration": 200,
						"amplifier": 2,
						"is_ambient": true,
						"show_icon": true,
						"show_particles": false
					},
					{
						"id": "minecraft:wither",
						"duration": 200,
						"amplifier": 0,
						"show_icon": true,
						"show_particles": false,
						"is_ambient": true
					}
				]
			}
		}
	},

	"effect_cooldown": {
		"type": "origins:cooldown",
		"cooldown": 10
	},

	"curse_effects": {
		"type": "origins:modify_damage_taken",
		"bientity_condition": {
			"type": "origins:and",
			"conditions": [
				{
					"type": "origins:actor_condition",
					"condition": {
						"type": "origins:origin",
						"origin": "thorigins:ninetails",
						"layer": "thorigins:origin"
					}
				},
				{
					"type": "origins:target_condition",
					"condition": {
						"type": "origins:resource",
						"resource": "*:*_effect_cooldown",
						"compare_to": 0,
						"comparison": "=="
					}
				}
			]
		},
		"modifier": {
			"operation": "multiply_total_additive",
			"amount": 0.25
		},
		"self_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:trigger_cooldown",
					"power": "*:*_effect_cooldown"
				},
				{
					"type": "origins:apply_effect",
					"effects": [
						{
							"id": "minecraft:weakness",
							"duration": 60,
							"amplifier": 0,
							"show_icon": true,
							"is_ambient": true,
							"show_particles": false
						},
						{
							"id": "minecraft:slowness",
							"duration": 60,
							"amplifier": 0,
							"show_icon": true,
							"is_ambient": true,
							"show_particles": false
						},
						{
							"id": "minecraft:nausea",
							"duration": 60,
							"amplifier": 0,
							"show_icon": true,
							"is_ambient": true,
							"show_particles": false
						}
					]
				},
				{
					"type": "origins:play_sound",
					"sound": "minecraft:entity.allay.item_given",
					"pitch": 2,
					"volume": 1
				},
				{
					"type": "origins:spawn_particles",
					"particle": {
						"type": "minecraft:block",
						"params": {
							"block_state": {
								"Name": "minecraft:redstone_block"
							}
						}
					},
					"offset_y": 0.3,
					"speed": 1,
					"count": 20,
					"force": false,
					"spread": {
						"x": 0.3,
						"y": 0,
						"z": 0.3
					}
				},
				{
					"type": "origins:play_sound",
					"sound": "minecraft:block.enchantment_table.use",
					"category": "players",
					"pitch": 1.6,
					"volume": 0.5
				}
			]
		},
		"attacker_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:change_resource",
					"resource": "*:thtransform_souls",
					"change": 25
				},
				{
					"type": "origins:trigger_cooldown",
					"power": "*:thtransform_show_soul"
				}
			]
		}
	},

	"armor_nullify": {
		"type": "origins:modify_attribute",
		"attribute": "minecraft:generic.armor",
		"modifier": {
			"operation": "multiply_total_multiplicative",
			"amount": -0.5
		}
	},

	"particles": {
		"type": "origins:particle",
		"frequency": 4,
		"particle": "minecraft:soul",
		"count": 1,
		"spread": {
			"x": 0.5,
			"y": 0.5,
			"z": 0.5
		},
		"speed": 0.1
	},

	"shaking": {
		"type": "origins:shaking"
	},

	"model_color": {
		"type": "origins:model_color",
		"blue": 0.5,
		"red": 0.5,
		"green": 0.5
	},

	"milk_nuh_uh": {
		"type": "origins:action_on_item_use",
		"item_condition": {
			"type": "origins:ingredient",
			"ingredient": {
				"item": "minecraft:milk_bucket"
			}
		},
		"entity_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:change_resource",
					"resource": "*:*_timer",
					"change": 200
				},
				{
					"type": "origins:execute_command",
					"command": "/title @s actionbar {\"translate\":\"thcurse.milk\"}"
				}
			]
		}
	}
}
